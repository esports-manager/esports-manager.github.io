---
import { getCollection } from 'astro:content';
import '../styles/global.css';

const entries = await getCollection('roadmap');

const milestonesData = entries
  .filter((entry) => entry.data.section === 'milestones')
  .sort((a, b) => a.data.order - b.data.order);

const upcomingData = entries
  .filter((entry) => entry.data.section === 'upcoming')
  .sort((a, b) => a.data.order - b.data.order);

const milestones = await Promise.all(
  milestonesData.map(async (entry) => ({ entry, ...(await entry.render()) }))
);

const upcoming = await Promise.all(
  upcomingData.map(async (entry) => ({ entry, ...(await entry.render()) }))
);

const latestDate = entries.reduce(
  (latest, entry) => (entry.data.pubDate > latest ? entry.data.pubDate : latest),
  new Date(0)
);

const lastUpdated = latestDate.getTime()
  ? new Intl.DateTimeFormat('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
    }).format(latestDate)
  : null;
---

<!DOCTYPE html>
<html lang="en" x-data="{
  darkMode: localStorage.getItem('darkMode')
  ? JSON.parse(localStorage.getItem('darkMode'))
  : window.matchMedia('(prefers-color-scheme: dark)').matches,
  mobileOpen: false,
  toggleDarkMode() {
    this.darkMode = ! this.darkMode;
    localStorage.setItem('darkMode', JSON.stringify(this.darkMode));
  }
}" :class="{ 'dark': darkMode, '' : !darkMode }"
    x-init="$watch('darkMode', value => document.body.classList.toggle('dark', value))">

<head>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Roadmap • eSports Manager</title>
    <meta name="description"
        content="Explore eSports Manager's roadmap: milestones, upcoming releases, and how to contribute." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/assets/esportsmanagertrophy.svg" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="canonical" href="https://esportsmanager.net/roadmap.html" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Roadmap • eSports Manager" />
    <meta property="og:description" content="See what's planned next and track progress." />
    <meta property="og:url" content="https://esportsmanager.net/roadmap.html" />
    <meta property="og:image" content="https://esportsmanager.net/assets/pexels-lucie-liz-3165335.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Roadmap • eSports Manager" />
    <meta name="twitter:description" content="See what's planned next and track progress." />
    <meta name="twitter:image" content="https://esportsmanager.net/assets/pexels-lucie-liz-3165335.jpg" />
    <meta name="theme-color" content="#1D4ED8" />
</head>

<body class="bg-gray-50 dark:bg-slate-900 dark:text-white">
    <a href="#main-content"
        class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 focus:bg-white focus:text-black focus:p-2 focus:rounded">Skip
        to content</a>
    <header class="fixed top-0 w-full p-4 text-white bg-blue-500 dark:bg-blue-700">
        <div class="container flex justify-between h-16 mx-auto">
            <a rel="noopener noreferrer" href="index.html" aria-label="Back to homepage" class="flex items-center p-2">
                <img src="/assets/esportsmanagertrophy.svg" class="w-16" alt="eSports Manager logo" width="64"
                    height="64" />
            </a>
            <ul class="items-stretch hidden space-x-3 md:flex text-lg">
                <li class="flex items-center mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        aria-hidden="true" focusable="false" class="bi bi-house-door-fill" viewBox="0 0 16 16">
                        <path
                            d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5" />
                    </svg>
                    <a rel="noopener noreferrer" href="index.html"
                        class="flex px-4 -mb-1 uppercase font-semibold">Home</a>
                </li>
                <li class="flex items-center mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        aria-hidden="true" focusable="false" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                        <path
                            d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
                    </svg>
                    <a href="faq.html" class="flex px-4 -mb-1 uppercase font-semibold">FAQ</a>
                </li>
                <li class="flex items-center mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        aria-hidden="true" focusable="false" class="bi bi-newspaper" viewBox="0 0 16 16">
                        <path
                            d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5z" />
                        <path
                            d="M2 3h10v2H2zm0 3h4v3H2zm0 4h4v1H2zm0 2h4v1H2zm5-6h2v1H7zm3 0h2v1h-2zM7 8h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2z" />
                    </svg>
                    <a href="#" class="flex px-4 -mb-1 uppercase font-semibold">Roadmap</a>
                </li>
                <li class="flex items-center mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        aria-hidden="true" focusable="false" class="bi bi-newspaper" viewBox="0 0 16 16">
                        <path
                            d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5z" />
                        <path
                            d="M2 3h10v2H2zm0 3h4v3H2zm0 4h4v1H2zm0 2h4v1H2zm5-6h2v1H7zm3 0h2v1h-2zM7 8h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2z" />
                    </svg>
                    <a href="blog.html" class="flex px-4 -mb-1 uppercase font-semibold">Blog</a>
                </li>
                <li class="flex items-center mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        aria-hidden="true" focusable="false" class="bi bi-github" viewBox="0 0 16 16">
                        <path
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8" />
                    </svg>
                    <a href="https://github.com/esports-manager/esports-manager" target="_blank"
                        class="flex items-center px-4 -mb-1 uppercase font-semibold">GitHub</a>
                </li>
                <li class="flex items-center mr-2">
                    <button
                        class="flex items-center px-4 -mb-1 uppercase font-semibold rounded-3xl py-4 bg-blue-400 hover:bg-blue-300 dark:bg-blue-600 dark:hover:bg-blue-500"
                        @click="toggleDarkMode" :aria-pressed="darkMode"
                        :aria-label="darkMode ? 'Switch to light mode' : 'Switch to dark mode'">
                        <span x-show="darkMode === true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-sun-fill" viewBox="0 0 16 16">
                                <path
                                    d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 0 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708" />
                            </svg>
                        </span>
                        <span x-show="darkMode === false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-moon-fill" viewBox="0 0 16 16">
                                <path
                                    d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278" />
                            </svg>
                        </span>
                    </button>
                </li>
            </ul>
            <button class="flex justify-end p-4 md:hidden" @click="mobileOpen = !mobileOpen"
                :aria-expanded="mobileOpen.toString()" aria-controls="mobile-menu" aria-label="Toggle navigation menu">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                    </path>
                </svg>
            </button>
        </div>
        <nav id="mobile-menu" class="md:hidden" x-show="mobileOpen" x-transition>
            <ul class="px-4 pb-4 space-y-2 text-lg">
                <li>
                    <a rel="noopener noreferrer" href="index.html"
                        class="block px-2 py-2 rounded hover:bg-blue-400/20">Home</a>
                </li>
                <li>
                    <a href="faq.html" class="block px-2 py-2 rounded hover:bg-blue-400/20">FAQ</a>
                </li>
                <li>
                    <a href="#" class="block px-2 py-2 rounded hover:bg-blue-400/20">Roadmap</a>
                </li>
                <li>
                    <a href="blog.html" class="block px-2 py-2 rounded hover:bg-blue-400/20">Blog</a>
                </li>
                <li>
                    <a href="https://github.com/esports-manager/esports-manager" target="_blank"
                        class="block px-2 py-2 rounded hover:bg-blue-400/20">GitHub</a>
                </li>
            </ul>
        </nav>
    </header>

    <main id="main-content" class="pt-28">
        <section class="container mx-auto px-6">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">Project Roadmap</h1>
            <p class="mt-3 text-lg text-slate-700 dark:text-slate-300 max-w-3xl">This page outlines the planned
                milestones, current progress, and how you can get involved with eSports Manager.</p>
            <div class="mt-6 flex flex-wrap items-center gap-3">
                <img alt="Status: Early Alpha" loading="lazy" width="124" height="20"
                    src="https://img.shields.io/badge/status-early%20alpha-blue" />
                <img alt="License: GPLv3" loading="lazy" width="78" height="20"
                    src="https://img.shields.io/badge/license-GPLv3-green" />
                <img alt="Contributions welcome" loading="lazy" width="170" height="20"
                    src="https://img.shields.io/badge/contributions-welcome-brightgreen" />
            </div>
            {lastUpdated && (
                <span class="text-sm text-slate-500 dark:text-slate-400 mt-4">Last updated: {lastUpdated}</span>
            )}
        </section>

        <section class="container mx-auto px-6 mt-10">
            <h2 class="text-2xl font-bold">Milestones</h2>
            <div class="mt-4 grid gap-6 md:grid-cols-2">
                {milestones.map(({ entry, Content }) => (
                    <div
                        class="p-4 rounded-2xl border border-slate-300 dark:border-slate-600 bg-white/60 dark:bg-slate-800/60">
                        <div class="flex items-start justify-between gap-3">
                            <h3 class="font-semibold text-lg">{entry.data.title}</h3>
                            {entry.data.status && (
                                <span
                                    class="px-2 py-1 text-xs uppercase tracking-wide rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-100">
                                    {entry.data.status}
                                </span>
                            )}
                        </div>
                        {entry.data.summary && (
                            <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">{entry.data.summary}</p>
                        )}
                        <div
                            class="mt-3 text-slate-700 dark:text-slate-200 space-y-2 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-2 [&_li]:leading-relaxed [&_del]:opacity-60">
                            <Content />
                        </div>
                        {entry.data.progress !== undefined && (
                            <div class="mt-5 h-2 rounded bg-slate-200 dark:bg-slate-700">
                                <div class="h-2 rounded bg-blue-500" style={`width: ${entry.data.progress}%`}></div>
                            </div>
                        )}
                    </div>
                ))}
            </div>
        </section>

        <section class="container mx-auto px-6 mt-10">
            <h2 class="text-2xl font-bold">Upcoming</h2>
            <div class="mt-4 space-y-3">
                {upcoming.map(({ entry, Content }) => (
                    <div
                        class="p-4 rounded-2xl border border-slate-300 dark:border-slate-600 bg-white/60 dark:bg-slate-800/60">
                        <div class="flex items-start justify-between gap-3">
                            <h3 class="font-semibold">{entry.data.title}</h3>
                            {entry.data.status && (
                                <span
                                    class="px-2 py-1 text-xs uppercase tracking-wide rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-100">
                                    {entry.data.status}
                                </span>
                            )}
                        </div>
                        {entry.data.summary && (
                            <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">{entry.data.summary}</p>
                        )}
                        <div
                            class="mt-2 text-slate-700 dark:text-slate-200 space-y-2 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-2 [&_li]:leading-relaxed">
                            <Content />
                        </div>
                    </div>
                ))}
            </div>
        </section>

        <section class="container mx-auto px-6 mt-10">
            <h2 class="text-2xl font-bold">Track and contribute</h2>
            <p class="mt-2 text-slate-700 dark:text-slate-300">We manage tasks publicly on GitHub. You can follow
                progress and pick up issues:</p>
            <div class="mt-4 grid gap-4 md:grid-cols-2">
                <a class="block p-4 rounded-2xl border border-slate-300 dark:border-slate-600 hover:bg-blue-50/60 dark:hover:bg-slate-800/80"
                    href="https://github.com/esports-manager/esports-manager/issues" target="_blank">GitHub issues →</a>
                <a class="block p-4 rounded-2xl border border-slate-300 dark:border-slate-600 hover:bg-blue-50/60 dark:hover:bg-slate-800/80"
                    href="https://github.com/esports-manager/esports-manager/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22"
                    target="_blank">Good first issues →</a>
                <a class="block p-4 rounded-2xl border border-slate-300 dark:border-slate-600 hover:bg-blue-50/60 dark:hover:bg-slate-800/80"
                    href="https://github.com/esports-manager/esports-manager/projects" target="_blank">Project boards
                    →</a>
                <a class="block p-4 rounded-2xl border border-slate-300 dark:border-slate-600 hover:bg-blue-50/60 dark:hover:bg-slate-800/80"
                    href="https://github.com/esports-manager/esports-manager/blob/develop/CONTRIBUTING.md"
                    target="_blank">How to contribute →</a>
            </div>
        </section>

        <section id="about" class="container mx-auto px-6 mt-12 mb-20">
            <div class="rounded-2xl border border-slate-300 dark:border-slate-600 p-6 bg-white/60 dark:bg-slate-800/60">
                <h2 class="text-2xl font-bold">About this roadmap</h2>
                <p class="mt-2 text-slate-700 dark:text-slate-300">This roadmap is a living document and may change
                    based on community feedback, feasibility, and priorities. If something feels missing or
                    misprioritized, please <a href="https://github.com/esports-manager/esports-manager/issues/new"
                        target="_blank" class="underline"><b>open an issue</b></a>.</p>
            </div>
        </section>
    </main>

    <footer class="py-6">
        <div class="container px-6 mx-auto space-y-6 divide-y dark:divide-gray-600 md:space-y-12 divide-opacity-50">
            <div class="grid justify-center pt-6 lg:justify-between">
                <div class="flex flex-col self-center text-sm text-center md:block lg:col-start-1 md:space-x-6">
                    <span>©2024-2026 All rights reserved</span>
                </div>
                <div class="flex justify-center pt-4 space-x-4 lg:pt-0 lg:col-end-13">
                    <a href="mailto:admin@esportsmanager.net" title="Email"
                        class="flex items-center justify-center w-10 h-10 rounded-full dark:bg-gray-200 dark:text-gray-800">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                        </svg>
                    </a>
                    <a href="https://github.com/esports-manager/esports-manager" title="GitHub"
                        class="flex items-center justify-center w-10 h-10 rounded-full dark:bg-gray-200 dark:text-gray-800">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5">
                            <path
                                d="M10.9,2.1c-4.6,0.5-8.3,4.2-8.8,8.7c-0.5,4.7,2.2,8.9,6.3,10.5C8.7,21.4,9,21.2,9,20.8v-1.6c0,0-0.4,0.1-0.9,0.1 c-1.4,0-2-1.2-2.1-1.9c-0.1-0.4-0.3-0.7-0.6-1C5.1,16.3,5,16.3,5,16.2C5,16,5.3,16,5.4,16c0.6,0,1.1,0.7,1.3,1c0.5,0.8,1.1,1,1.4,1 c0.4,0,0.7-0.1,0.9-0.2c0.1-0.7,0.4-1.4,1-1.8c-2.3-0.5-4-1.8-4-4c0-1.1,0.5-2.2,1.2-3C7.1,8.8,7,8.3,7,7.6C7,7.2,7,6.6,7.3,6 c0,0,1.4,0,2.8,1.3C10.6,7.1,11.3,7,12,7s1.4,0.1,2,0.3C15.3,6,16.8,6,16.8,6C17,6.6,17,7.2,17,7.6c0,0.8-0.1,1.2-0.2,1.4 c0.7,0.8,1.2,1.8,1.2,3c0,2.2-1.7,3.5-4,4c0.6,0.5,1,1.4,1,2.3v2.6c0,0.3,0.3,0.6,0.7,0.5c3.7-1.5,6.3-5.1,6.3-9.3 C22,6.1,16.9,1.4,10.9,2.1z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>
</body>

</html>
